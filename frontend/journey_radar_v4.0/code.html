<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
        name="viewport" />
    <title>Journey Radar - 1Crypten Space</title>
    <link rel="icon" type="image/png" href="../logo10D.png?v=2">
    <link rel="shortcut icon" type="image/png" href="../logo10D.png?v=2">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;family=Space+Grotesk:wght@500;700&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#D4AF37", // Gold metallic
                        "background-light": "#f8fafc",
                        "background-dark": "#020617", // Deep space black
                        "accent-blue": "#001233",
                        "neon-purple": "#BC13FE",
                        "neon-cyan": "#00E5FF",
                    },
                    fontFamily: {
                        display: ["Space Grotesk", "sans-serif"],
                        sans: ["Inter", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "12px",
                    },
                },
            },
        };
    </script>
    <style>
        .gold-metallic {
            background: linear-gradient(135deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .gold-bg {
            background: linear-gradient(135deg, #BF953F, #FBF5B7, #AA771C);
        }

        .glass-card {
            background: rgba(0, 18, 51, 0.4);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(0, 18, 51, 0.8);
        }

        .neon-border {
            border: 1px solid #001233;
        }

        .radar-pulse {
            position: relative;
        }

        .radar-pulse::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: #D4AF37;
            border-radius: 50%;
            z-index: -1;
            opacity: 0.3;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 0.3;
            }

            100% {
                transform: scale(1.8);
                opacity: 0;
            }
        }

        body {
            background-color: #020617;
            color: white;
            -webkit-tap-highlight-color: transparent;
        }

        /* [V5.2.5] Discrete Scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 3px;
            height: 3px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.1);
            border-radius: 10px;
        }

        .custom-scroll:hover::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.3);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }

        /* V4.9.4.2: Elite Vault Evolution */
        html {
            font-size: 14px !important;
        }

        /* Fontes ajustadas para escala Micro */
        .text-\[8px\],
        .text-\[9px\],
        .text-\[10px\] {
            font-size: 9px !important;
        }

        .text-xs {
            font-size: 11px !important;
        }

        .text-sm {
            font-size: 12px !important;
        }

        .text-base {
            font-size: 13px !important;
        }

        .text-lg {
            font-size: 16px !important;
        }

        .text-xl {
            font-size: 18px !important;
        }

        .text-2xl {
            font-size: 20px !important;
        }

        /* Melhorar legibilidade de bot√µes e inputs */
        button,
        .cursor-pointer {
            min-height: 38px !important;
        }

        input[type="text"],
        input[type="number"],
        textarea {
            font-size: 18px !important;
            padding: 1rem 1.25rem !important;
        }

        /* √çcones Material mais vis√≠veis */
        .material-icons-round {
            font-size: 28px !important;
        }

        /* Layout touch-friendly */
        header {
            min-height: 64px !important;
            padding-top: env(safe-area-inset-top, 20px) !important;
        }

        nav {
            min-height: 80px !important;
            padding-bottom: env(safe-area-inset-bottom, 20px) !important;
        }

        .glass-card {
            padding: 12px !important;
        }
    </style>
</head>

<body class="dark font-sans custom-scroll">
    <div class="w-full mx-auto min-h-screen relative flex flex-col pb-24">
        <header
            class="sticky top-0 z-50 px-6 pt-12 pb-4 bg-background-dark/80 backdrop-blur-md flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 flex items-center justify-center">
                    <img alt="1Crypten Logo" class="w-full h-full object-contain" src="../logo10D.png" />
                </div>
                <h1 class="font-display font-bold text-lg tracking-tight">Journey Radar</h1>
            </div>
            <button
                class="w-10 h-10 rounded-full flex items-center justify-center bg-accent-blue/50 text-primary border border-primary/20">
                <span class="material-icons-round text-xl">notifications</span>
            </button>
        </header>
        <div class="px-6 mb-8 flex gap-4 overflow-x-auto no-scrollbar py-2">
            <div class="flex-shrink-0 glass-card p-4 rounded-2xl min-w-[140px]">
                <p class="text-[10px] uppercase tracking-widest opacity-50 mb-1">Live Signals</p>
                <p class="text-2xl font-display font-bold text-primary">24</p>
            </div>
            <div class="flex-shrink-0 glass-card p-4 rounded-2xl min-w-[140px]">
                <p class="text-[10px] uppercase tracking-widest opacity-50 mb-1">Win Rate</p>
                <p class="text-2xl font-display font-bold text-neon-cyan">88.4%</p>
            </div>
        </div>

        <!-- V9.0 Cycle Tracker Component -->
        <div class="px-6 mb-6" id="cycle-tracker-container">
            <div class="glass-card rounded-2xl p-4">
                <div class="flex justify-between items-center mb-3">
                    <div class="flex items-center gap-2">
                        <span class="material-icons-round text-primary text-[16px]">sync</span>
                        <span class="text-[10px] uppercase tracking-widest opacity-50">Ciclo de Trades Elite</span>
                    </div>
                    <span class="text-xs font-mono font-bold text-primary" id="cycle-counter">0/10</span>
                </div>

                <!-- Progress Bar com 10 segmentos -->
                <div class="flex gap-1 mb-4" id="cycle-progress">
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                    <div class="flex-1 h-2 bg-white/5 rounded-full border border-white/5"></div>
                </div>

                <!-- Ativos Bloqueados -->
                <div class="mb-3">
                    <p class="text-[9px] uppercase opacity-30 mb-2">Ativos Operados (Bloqueados)</p>
                    <div class="flex flex-wrap gap-1" id="used-assets">
                        <span class="text-[9px] opacity-40 italic">Nenhum ainda</span>
                    </div>
                </div>

                <!-- Compound Info -->
                <div class="flex justify-between items-center pt-2 border-t border-white/5">
                    <div>
                        <p class="text-[9px] opacity-30 uppercase">Banca do Ciclo</p>
                        <p class="text-sm font-mono font-bold text-white" id="cycle-bankroll">$0.00</p>
                    </div>
                    <div class="text-right">
                        <p class="text-[9px] opacity-30 uppercase">Pr√≥ximo Rec√°lculo</p>
                        <p class="text-[10px] font-mono text-primary" id="next-rebalance">10 trades restantes</p>
                    </div>
                </div>
            </div>
        </div>

        <main class="flex-1 px-6 space-y-4">
            <div class="glass-card rounded-3xl p-5 border-l-4 border-l-primary/50">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex flex-col">
                        <div class="flex items-center gap-2 mb-1">
                            <span
                                class="text-xs px-2 py-0.5 bg-green-500/10 text-green-400 rounded-full font-medium flex items-center gap-1">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
                                Monitorando
                            </span>
                        </div>
                        <h2 class="text-2xl font-display font-bold tracking-tight">BTC/USDT</h2>
                    </div>
                    <div class="flex flex-col items-end">
                        <div
                            class="radar-pulse w-12 h-12 rounded-full border-2 border-primary/30 flex items-center justify-center gold-bg">
                            <span class="text-background-dark font-bold text-lg">94</span>
                        </div>
                        <span class="text-[10px] uppercase tracking-widest mt-2 opacity-50">Score M.L.</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Signal Time</p>
                        <p class="text-sm font-medium">Hoje, 14:32:01</p>
                    </div>
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Confian√ßa</p>
                        <p class="text-sm font-medium text-primary">Alta Precis√£o</p>
                    </div>
                </div>
                <button
                    class="w-full gold-bg text-background-dark py-4 rounded-2xl font-bold uppercase tracking-widest text-sm shadow-lg shadow-primary/20 active:scale-[0.98] transition-all">
                    Acompanhar
                </button>
            </div>
            <div class="glass-card rounded-3xl p-5 border-l-4 border-l-accent-blue opacity-80">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex flex-col">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-xs px-2 py-0.5 bg-blue-500/10 text-blue-400 rounded-full font-medium">
                                Aguardando Elite
                            </span>
                        </div>
                        <h2 class="text-2xl font-display font-bold tracking-tight">ETH/USDT</h2>
                    </div>
                    <div class="flex flex-col items-end">
                        <div
                            class="w-12 h-12 rounded-full border-2 border-white/10 flex items-center justify-center bg-accent-blue">
                            <span class="text-white font-bold text-lg">72</span>
                        </div>
                        <span class="text-[10px] uppercase tracking-widest mt-2 opacity-50">Score M.L.</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Signal Time</p>
                        <p class="text-sm font-medium">Hoje, 14:15:10</p>
                    </div>
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Confian√ßa</p>
                        <p class="text-sm font-medium">Moderada</p>
                    </div>
                </div>
                <button
                    class="w-full bg-white/5 text-white/50 border border-white/10 py-4 rounded-2xl font-bold uppercase tracking-widest text-sm">
                    Bloqueado
                </button>
            </div>
            <div class="glass-card rounded-3xl p-5 border-l-4 border-l-primary/50">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex flex-col">
                        <div class="flex items-center gap-2 mb-1">
                            <span
                                class="text-xs px-2 py-0.5 bg-green-500/10 text-green-400 rounded-full font-medium flex items-center gap-1">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"></span>
                                Monitorando
                            </span>
                        </div>
                        <h2 class="text-2xl font-display font-bold tracking-tight">SOL/USDT</h2>
                    </div>
                    <div class="flex flex-col items-end">
                        <div
                            class="radar-pulse w-12 h-12 rounded-full border-2 border-primary/30 flex items-center justify-center gold-bg">
                            <span class="text-background-dark font-bold text-lg">89</span>
                        </div>
                        <span class="text-[10px] uppercase tracking-widest mt-2 opacity-50">Score M.L.</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Signal Time</p>
                        <p class="text-sm font-medium">Hoje, 13:58:44</p>
                    </div>
                    <div class="bg-accent-blue/30 rounded-xl p-3 border border-white/5">
                        <p class="text-[10px] opacity-40 uppercase mb-1">Confian√ßa</p>
                        <p class="text-sm font-medium text-primary">Alta Precis√£o</p>
                    </div>
                </div>
                <button
                    class="w-full gold-bg text-background-dark py-4 rounded-2xl font-bold uppercase tracking-widest text-sm shadow-lg shadow-primary/20 active:scale-[0.98] transition-all">
                    Acompanhar
                </button>
            </div>
        </main>
        <nav
            class="fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-[430px] px-6 pb-10 pt-4 bg-background-dark/95 backdrop-blur-xl border-t border-white/5 flex justify-between items-center z-50">
            <a class="flex flex-col items-center gap-1 group" href="/banca/ui">
                <span class="material-icons-round text-primary text-[28px]">dashboard</span>
                <span class="text-[12px] font-bold text-primary uppercase">Home</span>
            </a>
            <a class="flex flex-col items-center gap-1 opacity-40 hover:opacity-100 transition-opacity"
                href="/journey_radar_v4.0/code.html">
                <span class="material-icons-round text-primary text-[28px]">radar</span>
                <span class="text-[12px] font-bold uppercase">Radar</span>
            </a>
            <div class="relative -top-10">
                <div
                    class="w-16 h-16 gold-bg rounded-full flex items-center justify-center shadow-xl shadow-primary/30 border-4 border-background-dark">
                    <span class="material-icons-round text-background-dark text-3xl">insights</span>
                </div>
            </div>
            <a class="flex flex-col items-center gap-1 opacity-40 hover:opacity-100 transition-opacity"
                href="/vault_v4.0/code.html">
                <span class="material-icons-round text-primary text-[28px]">account_balance_wallet</span>
                <span class="text-[12px] font-bold uppercase">Wallet</span>
            </a>
            <a class="flex flex-col items-center gap-1 opacity-40 hover:opacity-100 transition-opacity"
                href="/synergy_agent_logs_v4.0/code.html">
                <span class="material-icons-round text-primary text-[28px]">person</span>
                <span class="text-[12px] font-bold uppercase">Perfil</span>
            </a>
        </nav>
        <div class="fixed top-0 right-0 -z-10 w-64 h-64 bg-primary/5 blur-[120px] rounded-full"></div>
        <div class="fixed bottom-20 left-0 -z-10 w-48 h-48 bg-neon-cyan/5 blur-[100px] rounded-full"></div>
    </div>
    <script>
        // V9.0 Cycle Tracker Integration
        const API_BASE = window.location.origin;

        // Fetch cycle status from backend
        async function fetchCycleStatus() {
            try {
                const res = await fetch(`${API_BASE}/api/vault/cycle`);
                if (!res.ok) return null;
                return await res.json();
            } catch (e) {
                console.error('Error fetching cycle:', e);
                return null;
            }
        }

        // Update the Cycle Tracker UI
        function updateCycleTracker(cycle) {
            if (!cycle) return;

            const usedSymbols = cycle.used_symbols_in_cycle || [];
            const tradesCount = usedSymbols.length;
            const cycleBankroll = cycle.cycle_start_bankroll || 0;
            const remaining = 10 - tradesCount;

            // Update counter
            const counter = document.getElementById('cycle-counter');
            if (counter) counter.textContent = `${tradesCount}/10`;

            // Update progress bar segments
            const progressContainer = document.getElementById('cycle-progress');
            if (progressContainer) {
                const segments = progressContainer.children;
                for (let i = 0; i < segments.length; i++) {
                    if (i < tradesCount) {
                        // Filled segment (gold gradient)
                        segments[i].className = 'flex-1 h-2 rounded-full';
                        segments[i].style.background = 'linear-gradient(135deg, #BF953F, #FBF5B7, #AA771C)';
                        segments[i].style.border = '1px solid rgba(212, 175, 55, 0.5)';
                        segments[i].style.boxShadow = '0 0 8px rgba(212, 175, 55, 0.3)';
                    } else {
                        // Empty segment
                        segments[i].className = 'flex-1 h-2 bg-white/5 rounded-full border border-white/5';
                        segments[i].style.background = '';
                        segments[i].style.boxShadow = '';
                    }
                }
            }

            // Update used assets badges
            const assetsContainer = document.getElementById('used-assets');
            if (assetsContainer) {
                if (usedSymbols.length > 0) {
                    assetsContainer.innerHTML = usedSymbols.map(s =>
                        `<span class="px-2 py-0.5 bg-red-500/10 text-red-400 rounded text-[9px] font-mono border border-red-500/20">${s.replace('USDT', '')}</span>`
                    ).join('');
                } else {
                    assetsContainer.innerHTML = '<span class="text-[9px] opacity-40 italic">Nenhum ainda</span>';
                }
            }

            // Update cycle bankroll
            const bankrollEl = document.getElementById('cycle-bankroll');
            if (bankrollEl) bankrollEl.textContent = `$${cycleBankroll.toFixed(2)}`;

            // Update next rebalance
            const rebalanceEl = document.getElementById('next-rebalance');
            if (rebalanceEl) {
                if (remaining === 0) {
                    rebalanceEl.textContent = 'üîÑ Recalculando...';
                    rebalanceEl.className = 'text-[10px] font-mono text-green-400';
                } else {
                    rebalanceEl.textContent = `${remaining} trade${remaining !== 1 ? 's' : ''} restante${remaining !== 1 ? 's' : ''}`;
                    rebalanceEl.className = 'text-[10px] font-mono text-primary';
                }
            }

            // Update cycle number in header if exists
            const cycleNum = cycle.cycle_number || 1;
            const trackerLabel = document.querySelector('#cycle-tracker-container .glass-card > div:first-child span:last-child');
            if (trackerLabel) {
                trackerLabel.textContent = `Ciclo #${cycleNum} de Trades Elite`;
            }
        }

        // Initial load and periodic refresh
        async function initCycleTracker() {
            const cycle = await fetchCycleStatus();
            updateCycleTracker(cycle);
        }

        // Run on page load
        document.addEventListener('DOMContentLoaded', initCycleTracker);
        // Refresh every 10 seconds
        setInterval(initCycleTracker, 10000);

        // Original scroll behavior
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 10) {
                header.classList.add('shadow-2xl');
            } else {
                header.classList.remove('shadow-2xl');
            }
        });
    </script>

</body>

</html>